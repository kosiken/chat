(this["webpackJsonpmedapp-web"]=this["webpackJsonpmedapp-web"]||[]).push([[0],{136:function(e,A,t){},21:function(e,A,t){e.exports={message:"MessageBox_message__HIXgv",right:"MessageBox_right__3T2D_",left:"MessageBox_left__2xBGa",mb:"MessageBox_mb__1QnTx","left-div":"MessageBox_left-div__1NAGr","right-div":"MessageBox_right-div__TgT2i"}},296:function(e,A,t){"use strict";t.r(A);var n=t(0),a=t.n(n),c=t(125),o=t.n(c),r=(t(136),t(6)),i=t(25),s=t(55),g=t(15),d=t(131),u=t(16),C=t.n(u),B=t(56),l=t.n(B),Q=t(1),E=function(e){var A=e.children,t=e.borderless,n=e.className,a=Object(d.a)(e,["children","borderless","className"]),c=C()(l.a["icon-button"],Object(g.a)({},l.a.borderless,t));return Object(Q.jsx)("span",Object(s.a)(Object(s.a)({className:c+" "+n},a),{},{children:A}))},I=t(126),h=t.n(I),m=t(21),b=t.n(m),f=function(e){var A,t,n=e.message,a=C()(b.a.mb,(A={},Object(g.a)(A,b.a["right-div"],!n.recieved),Object(g.a)(A,b.a["left-div"],n.recieved),A)),c=C()(b.a.message,(t={},Object(g.a)(t,b.a.right,!n.recieved),Object(g.a)(t,b.a.left,n.recieved),t));return Object(Q.jsxs)("div",{className:"flex column "+a,children:[Object(Q.jsx)("div",{className:"gradients message "+c,children:Object(Q.jsx)("p",{style:{margin:0},children:n.content})}),Object(Q.jsxs)("small",{style:{color:"#6B779A"},children:[" ",h()(n.time).format("h:mm a")]})]})},j=t(37),p=t.n(j),w=function(e){var A=e.onSubmit,t=void 0===A?function(){return null}:A,n=a.a.useRef(null),c=C()(p.a["typing-box"]),o=C()(p.a["input-span"]),s=C()(p.a.input),g=a.a.useState(!0),d=Object(r.a)(g,2),u=d[0],B=d[1];return Object(Q.jsxs)("div",{className:c,children:[Object(Q.jsxs)("div",{className:s,onClick:function(){document.getElementById("message").focus(),B(!1)},children:[u&&Object(Q.jsx)("span",{className:"feint",id:"placeholder",children:"Write a message\u2026"}),Object(Q.jsx)("span",{contentEditable:!0,ref:n,id:"message",className:o})]}),Object(Q.jsx)(E,{borderless:!0,onClick:function(){n.current&&(t&&t(n.current.textContent),n.current.textContent="",B(!0))},role:"icon","aria-label":"send",style:{color:"#5E4B56"},children:Object(Q.jsx)(i.b,{})})]})},v=t(57),x=t.n(v),D=t(7),M=t.n(D),O=t(18),R=t(35),y=t(36),G=t(58),k=t(127),N=t.n(k),Y=function(){function e(A){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{onParticipantAdded:function(){},onMediaLoaded:function(){}};Object(R.a)(this,e),this.user=A,this.onParticipantAdded=t.onParticipantAdded,this.onMediaLoaded=t.onMediaLoaded}return Object(y.a)(e,[{key:"initialize",value:function(){var e=Object(O.a)(M.a.mark((function e(A){var t,n,a,c,o=this;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get(A+"/create-token/"+this.user.room+"/"+this.user.name);case 2:return t=(t=e.sent).data,n=t.token,e.next=7,Object(G.createLocalTracks)({audio:!0,video:!0});case 7:return(a=e.sent).forEach((function(e){var A=e.attach();A.style.width="120px",A.style.height="200px",A.style.position="absolute",A.style.left="0",A.style.top="0",document.getElementById("media-div").appendChild(A)})),e.next=11,Object(G.connect)(n,{name:"lion",tracks:a});case 11:c=e.sent,console.log(c.participants),c.participants.forEach((function(e){o.onParticipantAdded(e.identity),e.tracks.forEach((function(e){if(e.track){var A=e.attach();A.style.width="100%",A.style.height="100%",document.getElementById("media-div").appendChild(A),o.onMediaLoaded()}})),e.on("trackSubscribed",(function(e){var A=e.attach();A.style.width="100%",A.style.height="100%",document.getElementById("media-div").appendChild(A),o.onMediaLoaded()}))})),c.on("participantConnected",(function(e){console.log('Participant "'.concat(e.identity,'" connected')),o.onParticipantAdded(e.identity),e.tracks.forEach((function(e){if(e.isSubscribed){var A=e.track.attach();A.style.width="100%",A.style.height="100%",document.getElementById("media-div").appendChild(A),o.onMediaLoaded()}})),e.on("trackSubscribed",(function(e){var A=e.attach();A.style.width="100%",A.style.height="100%",document.getElementById("media-div").appendChild(A),o.onMediaLoaded()}))}));case 15:case"end":return e.stop()}}),e,this)})));return function(A){return e.apply(this,arguments)}}()}]),e}(),U=t(128),S=t.n(U),F={iceServers:[{urls:["stun:us-turn1.xirsys.com"]},{username:"gHW-9xnxwvqyc8eryWn3WQ9mdCs5E9o6GucxemiIDGZsf312-1IIeUDAvtNwTgQnAAAAAGC5Jp9rb3Npa2Vu",credential:"db593dd4-c49d-11eb-bd48-0242ac140004",urls:["turn:us-turn1.xirsys.com:80?transport=udp","turn:us-turn1.xirsys.com:3478?transport=udp","turn:us-turn1.xirsys.com:80?transport=tcp","turn:us-turn1.xirsys.com:3478?transport=tcp","turns:us-turn1.xirsys.com:443?transport=tcp","turns:us-turn1.xirsys.com:5349?transport=tcp"]}]},K=function(){function e(A){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{onAddPeer:function(){},OnMessage:function(){},OnDisconnect:function(){},addLocalStream:!0,maxPeers:2,servers:F};Object(R.a)(this,e),this.user=A,this.peerCount=0,this.peers={},this.dataChannels={},this.remoteDataChannels={},this.OnMessage=t.OnMessage,this.onAddStream=t.onAddStream,this.addLocalStream=t.addLocalStream,this.onAddPeer=t.onAddPeer,this.OnDisconnect=t.OnDisconnect}return Object(y.a)(e,[{key:"initialize",value:function(e){var A=this;this.sock=S()(e),window.sId||(window.sId=Date.now().toString()),this.sock.on("connect",(function(e){return A.joinChat(e)})),this.sock.on("addPeer",(function(e){return A.addPeer(e)})),this.sock.on("data-rec",(function(e){return A.handleData(e)})),this.sock.on("disconnect",(function(e){return A.onDisconnect(e)}))}},{key:"addPeer",value:function(){var e=Object(O.a)(M.a.mark((function e(A){var t,n,a,c,o,r,i;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this,n=this.sock,a=this.peers,c=A.id||A.peer_id,!((o=c)in a)){e.next=5;break}return e.abrupt("return");case 5:if(r=new window.RTCPeerConnection(this.Servers),a[o]=r,r.onicecandidate=function(e){t.onIceCandidate(e,o)},r.ondatachannel=function(e){t.onDataChannel(e,o)},this.dataChannels[o]=r.createDataChannel("talk__data_channel"),!A.createOffer){e.next=23;break}return e.next=13,r.createOffer();case 13:return i=e.sent,e.prev=14,e.next=17,r.setLocalDescription(i);case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(14),alert("Failed to set local description");case 22:n.emit("data-tran-sock",{room:"lion",peer_id:n.id,id:o,type:"offer",data:i});case 23:console.log(A,r,this),this.onAddPeer(A);case 25:case"end":return e.stop()}}),e,this,[[14,19]])})));return function(A){return e.apply(this,arguments)}}()},{key:"onRemoteDataChannelOpen",value:function(e){console.log("Data channel: "+e+" is open")}},{key:"joinChat",value:function(){var e=Object(O.a)(M.a.mark((function e(A){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.sock.emit("join",{room:A,Name:this.user.FirstName+" "+this.user.LastName,Role:this.user.Role,id:this.user.id});case 1:case"end":return e.stop()}}),e,this)})));return function(A){return e.apply(this,arguments)}}()},{key:"onDataChannel",value:function(e,A){var t=this;console.log("Data Channel",e.channel);var n=e.channel;n.binaryType="arraybuffer",this.remoteDataChannels[A]=n,n.onopen=function(e){t.onRemoteDataChannelOpen(A)},n.onmessage=function(e){t.OnMessage(e.data)}}},{key:"onIceCandidate",value:function(e,A){var t=this.sock;e.candidate&&t.emit("data-tran-sock",{type:"candid",room:"lion",id:A,peer_id:this.sock.id,data:{sdpMLineIndex:e.candidate.sdpMLineIndex,candidate:e.candidate.candidate}})}},{key:"AddIceCandidate",value:function(){var e=Object(O.a)(M.a.mark((function e(A){var t,n,a;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=this.peers[A.peer_id])||console.log("No peer found with id ",A.peer_id),!A.data){e.next=16;break}return e.prev=3,n=new window.RTCIceCandidate(A.data),e.next=7,t.addIceCandidate(n);case 7:a=e.sent,console.log(a),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),console.log("Failed to set iceCandidate "+e.t0.message),console.log(e.t0);case 15:return e.abrupt("return");case 16:console.log("No data"),console.log(A);case 18:case"end":return e.stop()}}),e,this,[[3,11]])})));return function(A){return e.apply(this,arguments)}}()},{key:"handleAnswer",value:function(){var e=Object(O.a)(M.a.mark((function e(A){var t,n,a,c,o,r,i;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=A.peer_id,n=this.peers,a=this.sock,c=A.data,o=n[t],r=new window.RTCSessionDescription(A.data),"answer"!==c.type){e.next=12;break}return e.next=10,o.setRemoteDescription(r);case 10:e.next=21;break;case 12:if("offer"!==r.type){e.next=21;break}return e.next=15,o.setRemoteDescription(r);case 15:return e.next=17,o.createAnswer();case 17:return i=e.sent,e.next=20,o.setLocalDescription(i);case 20:a.emit("data-tran-sock",{room:"lion",peer_id:a.id,id:t,type:"answer",data:i});case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(0),console.log("Error occured "+e.t0.message),console.log(e.t0);case 27:case"end":return e.stop()}}),e,this,[[0,23]])})));return function(A){return e.apply(this,arguments)}}()},{key:"handleData",value:function(){var e=Object(O.a)(M.a.mark((function e(A){var t;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=A.type,e.t0=t,e.next="candid"===e.t0?4:"offer"===e.t0?7:"answer"===e.t0?10:"message"===e.t0?13:"addstream"===e.t0?15:17;break;case 4:return e.next=6,this.AddIceCandidate(A);case 6:return e.abrupt("break",19);case 7:return e.next=9,this.handleAnswer(A);case 9:return e.abrupt("break",19);case 10:return e.next=12,this.handleAnswer(A);case 12:return e.abrupt("break",19);case 13:return this.OnMessage(A.data),e.abrupt("break",19);case 15:return this.createLocalMediaStream(),e.abrupt("break",19);case 17:return alert(t),e.abrupt("break",19);case 19:case"end":return e.stop()}}),e,this)})));return function(A){return e.apply(this,arguments)}}()},{key:"message",value:function(e,A){var t=this.dataChannels[e];try{t.send(A)}catch(n){this.sock.emit("data-tran-sock",{room:"lion",peer_id:this.sock.id,id:e,type:"message",data:A})}}},{key:"onDisconnect",value:function(e){for(var A in console.log(e),this.peers)this.peers[A].close();this.peers={},this.OnDisconnect()}}]),e}(),z=t(129),Z=t.n(z),P=function(e){var A=e.color,t=e.backgroundColor;return Object(Q.jsxs)("div",{className:"flex center",style:{color:A,backgroundColor:t,position:"absolute",top:0,width:"100%",height:"100%",backgroundImage:'url("'.concat("data:image/png;base64,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",'")'),backgroundRepeat:"no-repeat",backgroundSize:"cover",left:0,opacity:.7},children:[Object(Q.jsx)("p",{style:{position:"absolute",top:5,left:0,width:"100%",textAlign:"center"},children:"Loading Video Stream"}),Object(Q.jsx)(Z.a,{color:A}),Object(Q.jsx)("br",{})]})},J=t(130);function H(e){return{width:e.current.clientWidth,height:e.current.clientHeight}}var L=function(e){var A=e.children,t=e.activeIndex;console.log(A);var a=Object(n.useState)({width:0,height:0}),c=Object(r.a)(a,2),o=c[0],i=c[1],s=Object(n.useRef)(null),g=Object(n.useRef)(!1),d=Object(n.useRef)(0),u=Object(n.useRef)(0),C=Object(n.useRef)(0),B=Object(n.useRef)(0),l=Object(n.useRef)("slider"),E=Object(n.useRef)(null),I=Object(J.useMediaQuery)({query:"(min-device-width: 1200px)"}),h=Object(n.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.width;u.current=B.current*-e,C.current=u.current,m()}),[o.width]);function m(){I||(l.current.style.transform="translateX(".concat(u.current,"px)"))}Object(n.useEffect)((function(){t!==B.current&&(B.current=t,h())}),[t,h]),Object(n.useEffect)((function(){var e=function(){var e=H(s),A=e.width,t=e.height;i({width:A,height:t}),h(A)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]);var b=function(e){return function(A){B.current=e,d.current=w(A),g.current=!0,E.current=requestAnimationFrame(p)}},f=function(e){if(!I&&g.current){var A=w(e);u.current=C.current+A-d.current}};function j(){cancelAnimationFrame(E.current),g.current=!1;var e=u.current-C.current;e<-200&&B.current<1&&(B.current+=1),e>200&&B.current>0&&(B.current-=1),console.log(B),h(),l.current.style.cursor="grab"}function p(){m(),g.current&&requestAnimationFrame(p)}function w(e){return e.type.includes("mouse")?e.pageX:e.touches[0].clientX}return Object(n.useLayoutEffect)((function(){i(H(s)),h(H(s).width)}),[h]),Object(Q.jsx)("div",{ref:s,children:Object(Q.jsx)("div",{className:"slide-container",ref:l,children:A.map((function(e,A){return Object(Q.jsx)("div",{className:"slide",onTouchStart:b(A),onMouseDown:b(A),onTouchMove:f,onMouseMove:f,onTouchEnd:j,onMouseUp:j,onMouseLeave:function(){g.current&&j()},children:e},"slide"+A)}))})})},T="https://kosy.herokuapp.com",W=function(e){var A=e.videoChat,t=void 0===A||A,c=e.room,o=e.name,s=a.a.useRef(null),g=a.a.useRef(new Y({name:o,room:c})),d=a.a.useRef(null),u=Object(n.useState)([]),C=Object(r.a)(u,2),B=C[0],l=C[1],I=a.a.useRef(new K({id:1,FirstName:"Kosy",LastName:"Allison",Role:"Physician"},{maxPeers:2})),h=Object(n.useState)({}),m=Object(r.a)(h,2),b=m[0],j=m[1],p=Object(n.useState)([]),v=Object(r.a)(p,2),D=v[0],M=v[1],O=Object(n.useState)("Connecting..."),R=Object(r.a)(O,2),y=R[0],G=R[1],k=Object(n.useState)(!1),N=Object(r.a)(k,2),U=N[0],S=N[1],F=Object(n.useState)(!1),z=Object(r.a)(F,2),Z=z[0],J=z[1];Object(n.useEffect)((function(){var e=I.current;e.onAddPeer=W,e.OnMessage=q,e.OnDisconnect=_,e.initialize(T),H()}),[]);var H=function(){var e=g.current;e.onMediaLoaded=V,e.onParticipantAdded=G,e.initialize(T).then(console.log)};Object(n.useEffect)((function(){x()(),b.content&&M(D.concat([b])),s.current&&d.current&&s.current.clientHeight>d.current.clientHeight-400&&(window.hasSetHeight||(d.current.classList.add("scroll-y"),console.log("liiil")))}),[b]);var W=function(e){G(e.Name),console.log(B.concat([e])),l(B.concat([e])),S(t&&!0)},X=function(e){e.preventDefault()},V=function(){S(!1)},q=function(e){var A=JSON.parse(e);j({content:A.content,time:Date.now(),recieved:!0})},_=function(){l([]),G("Disconnected")};return Object(Q.jsxs)(L,{children:[Object(Q.jsx)("div",{className:"video-box",style:{position:"relative"},onDragStart:X,id:"media-div",children:U&&Object(Q.jsx)(P,{color:"#ffffff",backgroundColor:"#000000"})}),Object(Q.jsx)("div",{className:"message-box-wrapper",onDragStart:X,style:{paddingBottom:"10px"},children:Object(Q.jsxs)("div",{className:"message-box flex column",children:[Object(Q.jsxs)("div",{className:"chat-header flex space-btwn ",style:{padding:"20px 10px"},children:[t&&Object(Q.jsx)(E,{onClick:function(){J(!Z);var e=document.querySelector("#lion");x()({from:e.scrollLeft,to:0,duration:500,change:function(A){e.scrollLeft=A}})},children:Z?Object(Q.jsx)(i.d,{}):Object(Q.jsx)(i.c,{})})," ",Object(Q.jsx)("p",{style:{margin:0,flex:1,textAlign:"center"},children:y}),Object(Q.jsx)(E,{borderless:!0,children:Object(Q.jsx)(i.a,{})})]}),Object(Q.jsx)("div",{className:"overflow-hidden",style:{flex:1,height:"100%",overflow:"hidden"},ref:d,children:Object(Q.jsx)("div",{className:"chat-box",ref:s,children:D.length?D.map((function(e,A){return Object(Q.jsx)(f,{message:e},"relic-message"+A)})):Object(Q.jsx)("p",{style:{textAlign:"center",fontSize:12},children:"No messages yet"})})}),Object(Q.jsx)(w,{onSubmit:function(e){j({content:e,time:Date.now(),recieved:!1}),B.length&&I.current.message(B[0].id,JSON.stringify({user:"Kosy Allison",content:e}))}}),Object(Q.jsx)("div",{})]})})]})},X=function(){var e=Object(n.useState)(""),A=Object(r.a)(e,2),t=A[0],a=A[1],c=Object(n.useState)("MyRoom"),o=Object(r.a)(c,2),i=o[0],s=o[1],g=Object(n.useState)(!1),d=Object(r.a)(g,2),u=d[0],C=d[1];return u?Object(Q.jsx)(W,{room:i,name:t}):Object(Q.jsxs)("form",{onSubmit:function(e){return e.preventDefault()},children:[Object(Q.jsx)("input",{type:"text",onChange:function(e){e.target.value&&a(e.target.value)}}),Object(Q.jsx)("input",{type:"text",onChange:function(e){e.target.value&&s(e.target.value)}}),Object(Q.jsx)("button",{onClick:function(e){C(!0)},children:"Submit"})]})};var V=function(){return Object(Q.jsx)("div",{className:"App",children:Object(Q.jsx)(X,{})})},q=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,297)).then((function(A){var t=A.getCLS,n=A.getFID,a=A.getFCP,c=A.getLCP,o=A.getTTFB;t(e),n(e),a(e),c(e),o(e)}))};o.a.render(Object(Q.jsx)(a.a.StrictMode,{children:Object(Q.jsx)(V,{})}),document.getElementById("root")),q()},37:function(e,A,t){e.exports={"typing-box":"TypingBox_typing-box__3dPN_",input:"TypingBox_input__p6aET","input-span":"TypingBox_input-span__35ZB6"}},56:function(e,A,t){e.exports={"icon-button":"IconButton_icon-button__3c2yB",borderless:"IconButton_borderless__1wX4m"}}},[[296,1,2]]]);
//# sourceMappingURL=main.7a21d592.chunk.js.map