(this["webpackJsonpmedapp-web"]=this["webpackJsonpmedapp-web"]||[]).push([[0],{126:function(A,e,t){},22:function(A,e,t){A.exports={message:"MessageBox_message__HIXgv",right:"MessageBox_right__3T2D_",left:"MessageBox_left__2xBGa",mb:"MessageBox_mb__1QnTx","left-div":"MessageBox_left-div__1NAGr","right-div":"MessageBox_right-div__TgT2i"}},269:function(A,e,t){"use strict";t.r(e);var n=t(1),o=t.n(n),a=t(118),g=t.n(a),c=(t(126),t(4)),i=t(9),s=t(56),r=t(16),Q=t(121),C=t(17),B=t.n(C),E=t(57),I=t.n(E),l=t(0),d=function(A){var e=A.children,t=A.borderless,n=A.className,o=Object(Q.a)(A,["children","borderless","className"]),a=B()(I.a["icon-button"],Object(r.a)({},I.a.borderless,t));return Object(l.jsx)("span",Object(s.a)(Object(s.a)({className:a+" "+n},o),{},{children:e}))},h=t(119),u=t.n(h),m=t(22),b=t.n(m),j=function(A){var e,t,n=A.message,o=B()(b.a.mb,(e={},Object(r.a)(e,b.a["right-div"],n.recieved),Object(r.a)(e,b.a["left-div"],!n.recieved),e)),a=B()(b.a.message,(t={},Object(r.a)(t,b.a.right,n.recieved),Object(r.a)(t,b.a.left,!n.recieved),t));return Object(l.jsxs)("div",{className:"flex column "+o,children:[Object(l.jsx)("div",{className:"gradients message "+a,children:Object(l.jsx)("p",{style:{margin:0},children:n.content})}),Object(l.jsxs)("small",{style:{color:"#6B779A"},children:[" ",u()(n.time).format("h:mm a")]})]})},w=t(39),f=t.n(w),p=function(A){var e=A.onSubmit,t=void 0===e?function(){return null}:e,n=o.a.useRef(null),a=B()(f.a["typing-box"]),g=B()(f.a["input-span"]),s=B()(f.a.input),r=o.a.useState(!0),Q=Object(c.a)(r,2),C=Q[0],E=Q[1];return Object(l.jsxs)("div",{className:a,children:[Object(l.jsxs)("div",{className:s,onClick:function(){document.getElementById("message").focus(),E(!1)},children:[C&&Object(l.jsx)("span",{className:"feint",id:"placeholder",children:"Write a message\u2026"}),Object(l.jsx)("span",{contentEditable:!0,ref:n,id:"message",className:g})]}),Object(l.jsx)(d,{borderless:!0,onClick:function(){n.current&&(t&&t(n.current.textContent),n.current.textContent="",E(!0))},role:"icon","aria-label":"send",style:{color:"#5E4B56"},children:Object(l.jsx)(i.c,{})})]})},D=t(10),M=t.n(D),x=t(7),G=t.n(x),R=t(18),v=t(35),O=t(36),Y=t(120),U=t.n(Y),y={iceServers:[{urls:["stun:us-turn1.xirsys.com"]},{username:"gHW-9xnxwvqyc8eryWn3WQ9mdCs5E9o6GucxemiIDGZsf312-1IIeUDAvtNwTgQnAAAAAGC5Jp9rb3Npa2Vu",credential:"db593dd4-c49d-11eb-bd48-0242ac140004",urls:["turn:us-turn1.xirsys.com:80?transport=udp","turn:us-turn1.xirsys.com:3478?transport=udp","turn:us-turn1.xirsys.com:80?transport=tcp","turn:us-turn1.xirsys.com:3478?transport=tcp","turns:us-turn1.xirsys.com:443?transport=tcp","turns:us-turn1.xirsys.com:5349?transport=tcp"]}]},N=function(){function A(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{audio:!0,video:!0,onAddPeer:function(){},OnMessage:function(){},onAddStream:function(){},OnDisconnect:function(){},addLocalStream:!0,maxPeers:2,servers:y};if(Object(v.a)(this,A),!e)throw new TypeError("user must be specified");this.user=e,this.peerCount=0,this.peers={},this.dataChannels={},this.remoteDataChannels={},this.streams={},this.localMediaStream=null,this.USE_AUDIO=t.audio,this.USE_VIDEO=t.video,this.OnMessage=t.OnMessage,this.onAddStream=t.onAddStream,this.addLocalStream=t.addLocalStream,this.onAddPeer=t.onAddPeer,this.OnDisconnect=t.OnDisconnect}return Object(O.a)(A,[{key:"initialize",value:function(A){var e=this;this.sock=U()(A),window.sId||(window.sId=Date.now().toString()),this.sock.on("connect",(function(A){return e.joinChat(A)})),this.sock.on("addPeer",(function(A){return e.addPeer(A)})),this.sock.on("data-rec",(function(A){return e.handleData(A)})),this.sock.on("disconnect",(function(A){return e.onDisconnect(A)}))}},{key:"addPeer",value:function(){var A=Object(R.a)(G.a.mark((function A(e){var t,n,o,a,g,c,i,s;return G.a.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:if(t=this,n=this.sock,o=this.streams,a=this.peers,g=e.id||e.peer_id,!((c=g)in a)){A.next=6;break}return A.abrupt("return");case 6:if(i=new window.RTCPeerConnection(this.Servers),a[c]=i,i.onicecandidate=function(A){t.onIceCandidate(A,c)},i.onaddstream=function(A){o[c]=A.stream,console.log("loions"),t.onAddStream("remote",A.stream,c)},i.ondatachannel=function(A){t.onDataChannel(A,c)},this.localMediaStream&&i.addStream(this.localMediaStream),this.dataChannels[c]=i.createDataChannel("talk__data_channel"),!e.createOffer){A.next=26;break}return A.next=16,i.createOffer();case 16:return s=A.sent,A.prev=17,A.next=20,i.setLocalDescription(s);case 20:A.next=25;break;case 22:A.prev=22,A.t0=A.catch(17),alert("Failed to set local description");case 25:n.emit("data-tran-sock",{room:"lion",peer_id:n.id,id:c,type:"offer",data:s});case 26:console.log(e,i,this),this.onAddPeer(e);case 28:case"end":return A.stop()}}),A,this,[[17,22]])})));return function(e){return A.apply(this,arguments)}}()},{key:"joinChat",value:function(){var A=Object(R.a)(G.a.mark((function A(e){return G.a.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:if(console.log(this),this.localMediaStream||!this.addLocalStream){A.next=14;break}return A.prev=2,A.next=5,navigator.mediaDevices.getUserMedia({audio:this.USE_AUDIO,video:this.USE_VIDEO});case 5:this.localMediaStream=A.sent,A.next=12;break;case 8:return A.prev=8,A.t0=A.catch(2),console.log(A.t0),A.abrupt("return");case 12:this.toggleVideo(),this.onAddStream("local",this.localMediaStream,null);case 14:this.sock.emit("join",{room:e,Name:this.user.FirstName+" "+this.user.LastName,Role:this.user.Role,id:this.user.id});case 15:case"end":return A.stop()}}),A,this,[[2,8]])})));return function(e){return A.apply(this,arguments)}}()},{key:"onDataChannel",value:function(A,e){var t=this;console.log("Data Channel",A.channel);var n=A.channel;n.binaryType="arraybuffer",this.remoteDataChannels[e]=n,n.onopen=function(A){t.onRemoteDataChannelOpen(e)},n.onmessage=function(A){t.OnMessage(A.data)}}},{key:"onRemoteDataChannelOpen",value:function(A){console.log("Data channel: "+A+" is open")}},{key:"onIceCandidate",value:function(A,e){var t=this.sock;A.candidate&&t.emit("data-tran-sock",{type:"candid",room:"lion",id:e,peer_id:this.sock.id,data:{sdpMLineIndex:A.candidate.sdpMLineIndex,candidate:A.candidate.candidate}})}},{key:"AddIceCandidate",value:function(){var A=Object(R.a)(G.a.mark((function A(e){var t,n,o;return G.a.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:if((t=this.peers[e.peer_id])||console.log("No peer found with id ",e.peer_id),!e.data){A.next=16;break}return A.prev=3,n=new window.RTCIceCandidate(e.data),A.next=7,t.addIceCandidate(n);case 7:o=A.sent,console.log(o),A.next=15;break;case 11:A.prev=11,A.t0=A.catch(3),console.log("Failed to set iceCandidate "+A.t0.message),console.log(A.t0);case 15:return A.abrupt("return");case 16:console.log("No data"),console.log(e);case 18:case"end":return A.stop()}}),A,this,[[3,11]])})));return function(e){return A.apply(this,arguments)}}()},{key:"handleAnswer",value:function(){var A=Object(R.a)(G.a.mark((function A(e){var t,n,o,a,g,c,i;return G.a.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:if(A.prev=0,t=e.peer_id,n=this.peers,o=this.sock,a=e.data,g=n[t],c=new window.RTCSessionDescription(e.data),"answer"!==a.type){A.next=12;break}return A.next=10,g.setRemoteDescription(c);case 10:A.next=21;break;case 12:if("offer"!==c.type){A.next=21;break}return A.next=15,g.setRemoteDescription(c);case 15:return A.next=17,g.createAnswer();case 17:return i=A.sent,A.next=20,g.setLocalDescription(i);case 20:o.emit("data-tran-sock",{room:"lion",peer_id:o.id,id:t,type:"answer",data:i});case 21:A.next=27;break;case 23:A.prev=23,A.t0=A.catch(0),console.log("Error occured "+A.t0.message),console.log(A.t0);case 27:case"end":return A.stop()}}),A,this,[[0,23]])})));return function(e){return A.apply(this,arguments)}}()},{key:"handleData",value:function(){var A=Object(R.a)(G.a.mark((function A(e){var t;return G.a.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:t=e.type,A.t0=t,A.next="candid"===A.t0?4:"offer"===A.t0?7:"answer"===A.t0?10:"message"===A.t0?13:"addstream"===A.t0?15:17;break;case 4:return A.next=6,this.AddIceCandidate(e);case 6:return A.abrupt("break",19);case 7:return A.next=9,this.handleAnswer(e);case 9:return A.abrupt("break",19);case 10:return A.next=12,this.handleAnswer(e);case 12:return A.abrupt("break",19);case 13:return this.OnMessage(e.data),A.abrupt("break",19);case 15:return this.createLocalMediaStream(),A.abrupt("break",19);case 17:return alert(t),A.abrupt("break",19);case 19:case"end":return A.stop()}}),A,this)})));return function(e){return A.apply(this,arguments)}}()},{key:"message",value:function(A,e){var t=this.dataChannels[A];try{t.send(e)}catch(n){this.sock.emit("data-tran-sock",{room:"lion",peer_id:this.sock.id,id:A,type:"message",data:e})}}},{key:"onDisconnect",value:function(A){for(var e in console.log(A),this.peers)this.peers[e].close();this.peers={},this.OnDisconnect()}},{key:"toggleVideo",value:function(){var A=Object(R.a)(G.a.mark((function A(){return G.a.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:this.localMediaStream.getAudioTracks()[0].enabled=!this.localMediaStream.getAudioTracks()[0].enabled,this.localMediaStream.getVideoTracks()[0].enabled=!this.localMediaStream.getVideoTracks()[0].enabled;case 2:case"end":return A.stop()}}),A,this)})));return function(){return A.apply(this,arguments)}}()}]),A}(),k=t(38),K=t.n(k),S=t(37),F=function(A){var e=A.color,t=A.backgroundColor;return Object(l.jsxs)("div",{className:"flex center",style:{color:e,backgroundColor:t,position:"absolute",top:0,width:"100%",height:"100%",backgroundImage:'url("'.concat("data:image/png;base64,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",'")'),backgroundRepeat:"no-repeat",backgroundSize:"cover",left:0,opacity:.7},children:[Object(l.jsx)("p",{style:{position:"absolute",top:5,left:0,width:"100%",textAlign:"center"},children:"Loading Video Stream"}),Object(l.jsx)(K.a,{color:e}),Object(l.jsx)("br",{})]})},z=function(A){var e=A.videoChat,t=void 0===e||e,a=o.a.useRef(null),g=Object(n.useState)(null),s=Object(c.a)(g,2),r=s[0],Q=s[1],C=o.a.useRef(null),B=o.a.useRef(null),E=o.a.useRef(null),I=Object(n.useState)({}),h=Object(c.a)(I,2),u=h[0],m=h[1],b=Object(n.useState)([]),w=Object(c.a)(b,2),f=w[0],D=w[1],x=Object(n.useState)("Connecting..."),G=Object(c.a)(x,2),R=G[0],v=G[1],O=Object(n.useState)([]),Y=Object(c.a)(O,2),U=Y[0],y=Y[1],k=Object(n.useState)(!1),K=Object(c.a)(k,2),z=K[0],Z=K[1],H=Object(n.useState)(!1),J=Object(c.a)(H,2),P=J[0],T=J[1],L=Object(S.useMediaQuery)({query:"(max-device-width: 768px)"});Object(n.useEffect)((function(){var A=new N({id:1,FirstName:"Kosy",LastName:"Allison",Role:"Physician"},{video:!0,audio:!0,onAddPeer:W,OnMessage:X,onAddStream:V,OnDisconnect:q,addLocalStream:!1,maxPeers:2});if(t&&(A.addLocalStream=!0),A.initialize("/"),Q(A),L){alert("lol");var e=document.querySelector("#lion");M()({from:e.scrollLeft,to:e.scrollWidth,duration:500,change:function(A){e.scrollLeft=A}})}}),[]),Object(n.useEffect)((function(){M()(),u.content&&D(f.concat([u])),a.current&&C.current&&a.current.clientHeight>C.current.clientHeight-400&&(window.hasSetHeight||(C.current.classList.add("scroll-y"),setTimeout((function(){M()({from:C.current.scrollTop,to:C.current.scrollHeight,duration:300,change:function(A){C.current.scrollTop=A}}),C.current.scrollTop=C.current.scrollHeight}),300),console.log("liiil")))}),[u]);var W=function(A){v(A.Name),console.log(U.concat([A])),y(U.concat([A])),Z(t&&!0)},X=function(A){var e=JSON.parse(A);m({content:e.content,time:Date.now(),recieved:!0})},V=function(A,e,t){"local"===A?(console.log("here"),B.current.srcObject=e):(E.current.srcObject=e,E.current.paused&&E.current.play(),Z(!1))},q=function(){y([]),v("Disconnected");var A=E.current;A.readyState>=2&&A.pause()},_=function(A){A.preventDefault()};return Object(l.jsxs)("div",{className:"relic-chat",id:"lion",children:[Object(l.jsxs)("div",{className:"video-box",style:{position:"relative"},onDragStart:_,children:[z&&Object(l.jsx)(F,{color:"#ffffff",backgroundColor:"#000000"}),Object(l.jsx)("div",{style:{position:"absolute",bottom:0,width:"100%",textAlign:"center",zIndex:999},children:Object(l.jsx)(d,{className:"center none",borderless:!0,onClick:function(){L&&(r.toggleVideo(),T(!1));var A=document.querySelector("#lion");M()({from:A.scrollLeft,to:A.scrollWidth,duration:500,change:function(e){A.scrollLeft=e}})},style:{backgroundColor:"white",width:50,height:50,display:"inline-flex",opacity:"0.6"},children:Object(l.jsx)(i.b,{})})}),Object(l.jsx)("video",{autoPlay:!0,ref:E,controls:!1,playsInline:!0,style:{height:"100%",width:"100%"}}),Object(l.jsx)("video",{autoPlay:!0,volume:0,ref:B,muted:!0,playsInline:!0,style:{width:"120px",height:"200px",position:"absolute",left:0,bottom:0}})]}),Object(l.jsx)("div",{className:"message-box-wrapper",onDragStart:_,children:Object(l.jsxs)("div",{className:"message-box flex column",children:[Object(l.jsxs)("div",{className:"chat-header flex space-btwn ",style:{padding:"20px 10px"},children:[t&&Object(l.jsx)(d,{onClick:function(){r.toggleVideo(),T(!P);var A=document.querySelector("#lion");M()({from:A.scrollLeft,to:0,duration:500,change:function(e){A.scrollLeft=e}})},children:P?Object(l.jsx)(i.e,{}):Object(l.jsx)(i.d,{})}),"  ",Object(l.jsx)("p",{style:{margin:0,flex:1,textAlign:"center"},children:R}),Object(l.jsx)(d,{borderless:!0,children:Object(l.jsx)(i.a,{})})]}),Object(l.jsx)("div",{className:"overflow-hidden",style:{flex:1,height:"100%",overflow:"hidden"},ref:C,children:Object(l.jsx)("div",{className:"chat-box",ref:a,children:f.length?f.map((function(A,e){return Object(l.jsx)(j,{message:A},"relic-message"+e)})):Object(l.jsx)("p",{style:{textAlign:"center",fontSize:12},children:"No messages yet"})})}),Object(l.jsx)(p,{onSubmit:function(A){m({content:A,time:Date.now(),recieved:!1}),U.length&&r.message(U[0].id,JSON.stringify({user:"Kosy Allison",content:A}))}}),Object(l.jsx)("div",{})]})})]})},Z=t(58),H=function(){function A(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{onParticipantAdded:function(){},onMediaLoaded:function(){}};Object(v.a)(this,A),this.user=e,this.onParticipantAdded=t.onParticipantAdded,this.onMediaLoaded=t.onMediaLoaded}return Object(O.a)(A,[{key:"initialize",value:function(){var A=Object(R.a)(G.a.mark((function A(e){var t,n,o=this;return G.a.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,Object(Z.createLocalTracks)({audio:!0,video:!0});case 2:return(t=A.sent).forEach((function(A){var e=A.attach();e.style.width="120px",e.style.height="200px",e.style.position="absolute",e.style.left="0",e.style.top="0",document.getElementById("media-div").appendChild(e)})),A.next=6,Object(Z.connect)(e,{name:"lion",tracks:t});case 6:n=A.sent,console.log(n.participants),n.participants.forEach((function(A){o.onParticipantAdded(A.identity),A.tracks.forEach((function(A){if(A.track){var e=A.attach();e.style.width="100%",e.style.height="100%",document.getElementById("media-div").appendChild(e),o.onMediaLoaded()}})),A.on("trackSubscribed",(function(A){var e=A.attach();e.style.width="100%",e.style.height="100%",document.getElementById("media-div").appendChild(e),o.onMediaLoaded()}))})),n.on("participantConnected",(function(A){console.log('Participant "'.concat(A.identity,'" connected')),o.onParticipantAdded(A.identity),A.tracks.forEach((function(A){if(A.isSubscribed){var e=A.track.attach();e.style.width="100%",e.style.height="100%",document.getElementById("media-div").appendChild(e),o.onMediaLoaded()}})),A.on("trackSubscribed",(function(A){var e=A.attach();e.style.width="100%",e.style.height="100%",document.getElementById("media-div").appendChild(e),o.onMediaLoaded()}))}));case 10:case"end":return A.stop()}}),A)})));return function(e){return A.apply(this,arguments)}}()}]),A}(),J=function(A){var e=A.color,t=A.backgroundColor;return Object(l.jsxs)("div",{className:"flex center",style:{color:e,backgroundColor:t,position:"absolute",top:0,width:"100%",height:"100%",backgroundImage:'url("'.concat("data:image/png;base64,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",'")'),backgroundRepeat:"no-repeat",backgroundSize:"cover",left:0,opacity:.7},children:[Object(l.jsx)("p",{style:{position:"absolute",top:5,left:0,width:"100%",textAlign:"center"},children:"Loading Video Stream"}),Object(l.jsx)(K.a,{color:e}),Object(l.jsx)("br",{})]})},P=function(A){var e=A.videoChat,t=void 0===e||e,a=o.a.useRef(null),g=Object(n.useState)(null),s=Object(c.a)(g,2),r=s[0],Q=s[1],C=o.a.useRef(null),B=Object(n.useState)({}),E=Object(c.a)(B,2),I=E[0],h=E[1],u=Object(n.useState)([]),m=Object(c.a)(u,2),b=m[0],w=m[1],f=Object(n.useState)("Connecting..."),D=Object(c.a)(f,2),x=D[0],G=D[1],R=Object(n.useState)([]),v=Object(c.a)(R,1)[0],O=Object(n.useState)(!1),Y=Object(c.a)(O,2),U=Y[0],y=Y[1],N=Object(n.useState)(!1),k=Object(c.a)(N,2),K=k[0],F=k[1],z=Object(S.useMediaQuery)({query:"(max-device-width: 480px)"}),Z=Object(n.useState)(""),P=Object(c.a)(Z,2),T=P[0],L=P[1];Object(n.useEffect)((function(){}),[]);Object(n.useEffect)((function(){M()(),I.content&&w(b.concat([I])),a.current&&C.current&&a.current.clientHeight>C.current.clientHeight-400&&(window.hasSetHeight||(C.current.classList.add("scroll-y"),setTimeout((function(){M()({from:C.current.scrollTop,to:C.current.scrollHeight,duration:300,change:function(A){C.current.scrollTop=A}}),C.current.scrollTop=C.current.scrollHeight}),300),console.log("liiil")))}),[I]);var W=function(A){A.preventDefault()},X=function(){y(!1)};return Object(l.jsxs)("div",{className:"relic-chat",id:"lion",children:[Object(l.jsxs)("div",{className:"video-box",style:{position:"relative"},onDragStart:W,id:"media-div",children:[U&&Object(l.jsx)(J,{color:"#ffffff",backgroundColor:"#000000"}),Object(l.jsx)("div",{style:{position:"absolute",bottom:0,width:"100%",textAlign:"center",zIndex:999},children:Object(l.jsx)(d,{className:"center none",borderless:!0,onClick:function(){z&&(r.toggleVideo(),F(!1));var A=document.querySelector("#lion");M()({from:A.scrollLeft,to:A.scrollWidth,duration:500,change:function(e){A.scrollLeft=e}})},style:{backgroundColor:"white",width:50,height:50,display:"inline-flex",opacity:"0.6"},children:Object(l.jsx)(i.b,{})})}),Object(l.jsx)("input",{id:"lol",type:"text",onChange:function(A){L(A.target.value)}}),Object(l.jsx)("button",{onClick:function(){var A;A=T,new H({id:1,FirstName:"Kosy",LastName:"Allison",Role:"Physician"},{onParticipantAdded:G,onMediaLoaded:X}).initialize(A).then(console.log),Q(r)},children:"init"})]}),Object(l.jsx)("div",{className:"message-box-wrapper",onDragStart:W,children:Object(l.jsxs)("div",{className:"message-box flex column",children:[Object(l.jsxs)("div",{className:"chat-header flex space-btwn ",style:{padding:"20px 10px"},children:[t&&Object(l.jsx)(d,{onClick:function(){r.toggleVideo(),F(!K);var A=document.querySelector("#lion");M()({from:A.scrollLeft,to:0,duration:500,change:function(e){A.scrollLeft=e}})},children:K?Object(l.jsx)(i.e,{}):Object(l.jsx)(i.d,{})}),"  ",Object(l.jsx)("p",{style:{margin:0,flex:1,textAlign:"center"},children:x}),Object(l.jsx)(d,{borderless:!0,children:Object(l.jsx)(i.a,{})})]}),Object(l.jsx)("div",{className:"overflow-hidden",style:{flex:1,height:"100%",overflow:"hidden"},ref:C,children:Object(l.jsx)("div",{className:"chat-box",ref:a,children:b.length?b.map((function(A,e){return Object(l.jsx)(j,{message:A},"relic-message"+e)})):Object(l.jsx)("p",{style:{textAlign:"center",fontSize:12},children:"No messages yet"})})}),Object(l.jsx)(p,{onSubmit:function(A){h({content:A,time:Date.now(),recieved:!1}),v.length&&r.message(v[0].id,JSON.stringify({user:"Kosy Allison",content:A}))}}),Object(l.jsx)("div",{})]})})]})},T=function(){var A=Object(n.useState)(""),e=Object(c.a)(A,2),t=e[0],o=e[1];return""===t||"none"===t?Object(l.jsx)("div",{children:Object(l.jsxs)("select",{defaultValue:"none",onChange:function(A){o(A.target.value)},children:[Object(l.jsx)("option",{value:"none",children:" _ "}),Object(l.jsx)("option",{value:"Chat1",children:"Chat with inhouse"}),Object(l.jsx)("option",{value:"Chat2",children:"Chat with twilio video"})]})}):"Chat1"===t?Object(l.jsx)(z,{}):"Chat2"===t?Object(l.jsx)(P,{}):Object(l.jsx)("div",{children:Object(l.jsx)("p",{children:"An error must have occured"})})};var L=function(){return Object(l.jsx)("div",{className:"App",children:Object(l.jsx)(T,{})})},W=function(A){A&&A instanceof Function&&t.e(3).then(t.bind(null,270)).then((function(e){var t=e.getCLS,n=e.getFID,o=e.getFCP,a=e.getLCP,g=e.getTTFB;t(A),n(A),o(A),a(A),g(A)}))};g.a.render(Object(l.jsx)(o.a.StrictMode,{children:Object(l.jsx)(L,{})}),document.getElementById("root")),W()},39:function(A,e,t){A.exports={"typing-box":"TypingBox_typing-box__3dPN_",input:"TypingBox_input__p6aET","input-span":"TypingBox_input-span__35ZB6"}},57:function(A,e,t){A.exports={"icon-button":"IconButton_icon-button__3c2yB",borderless:"IconButton_borderless__1wX4m"}}},[[269,1,2]]]);
//# sourceMappingURL=main.c9126565.chunk.js.map